(()=>{var e={};e.id=395,e.ids=[395],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},237:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>c,routeModule:()=>b,tree:()=>d});var n=r(482),t=r(9108),i=r(2563),o=r.n(i),l=r(8300),a={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>l[e]);r.d(s,a);let d=["",{children:["(login)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1187)),"/home/samad/Documents/teapost/client/src/app/(login)/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9167)),"/home/samad/Documents/teapost/client/src/app/(login)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1342)),"/home/samad/Documents/teapost/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/home/samad/Documents/teapost/client/src/app/(login)/login/page.tsx"],h="/(login)/login/page",m={require:r,loadChunk:()=>Promise.resolve()},b=new n.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/(login)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7037:(e,s,r)=>{let n={"989eaa533c0ed0a12a487e0c8c7ef52292bf8c28":()=>Promise.resolve().then(r.bind(r,5320)).then(e=>e.register),d185191f07d7c60aa14c3467142edb3da20b5494:()=>Promise.resolve().then(r.bind(r,5320)).then(e=>e.isLoggedIn),da77bca0492a65eda17bd6b5b3c51ff38f63d4b5:()=>Promise.resolve().then(r.bind(r,5320)).then(e=>e.login),f263cffc8c92d4df0b9523d05f9474996e98e5b1:()=>Promise.resolve().then(r.bind(r,5320)).then(e=>e.logout)};async function t(e,...s){return(await n[e]()).apply(null,s)}e.exports={"989eaa533c0ed0a12a487e0c8c7ef52292bf8c28":t.bind(null,"989eaa533c0ed0a12a487e0c8c7ef52292bf8c28"),d185191f07d7c60aa14c3467142edb3da20b5494:t.bind(null,"d185191f07d7c60aa14c3467142edb3da20b5494"),da77bca0492a65eda17bd6b5b3c51ff38f63d4b5:t.bind(null,"da77bca0492a65eda17bd6b5b3c51ff38f63d4b5"),f263cffc8c92d4df0b9523d05f9474996e98e5b1:t.bind(null,"f263cffc8c92d4df0b9523d05f9474996e98e5b1")}},1515:(e,s,r)=>{Promise.resolve().then(r.bind(r,8298)),Promise.resolve().then(r.bind(r,8762)),Promise.resolve().then(r.bind(r,1292)),Promise.resolve().then(r.bind(r,7479)),Promise.resolve().then(r.bind(r,1460)),Promise.resolve().then(r.bind(r,4227)),Promise.resolve().then(r.bind(r,9266)),Promise.resolve().then(r.bind(r,2788)),Promise.resolve().then(r.bind(r,1595)),Promise.resolve().then(r.bind(r,3774)),Promise.resolve().then(r.bind(r,5961)),Promise.resolve().then(r.bind(r,4854)),Promise.resolve().then(r.bind(r,8210)),Promise.resolve().then(r.bind(r,5160)),Promise.resolve().then(r.bind(r,630)),Promise.resolve().then(r.bind(r,5505)),Promise.resolve().then(r.bind(r,1880)),Promise.resolve().then(r.bind(r,4244)),Promise.resolve().then(r.bind(r,111)),Promise.resolve().then(r.bind(r,7320)),Promise.resolve().then(r.bind(r,7409)),Promise.resolve().then(r.bind(r,1354)),Promise.resolve().then(r.bind(r,7980)),Promise.resolve().then(r.bind(r,5412)),Promise.resolve().then(r.t.bind(r,1476,23)),Promise.resolve().then(r.bind(r,6715))},9545:(e,s,r)=>{Promise.resolve().then(r.bind(r,8298)),Promise.resolve().then(r.bind(r,8762)),Promise.resolve().then(r.bind(r,1292)),Promise.resolve().then(r.bind(r,7479)),Promise.resolve().then(r.bind(r,1460)),Promise.resolve().then(r.bind(r,4227)),Promise.resolve().then(r.bind(r,9266)),Promise.resolve().then(r.bind(r,2788)),Promise.resolve().then(r.bind(r,1595)),Promise.resolve().then(r.bind(r,3774)),Promise.resolve().then(r.bind(r,5961)),Promise.resolve().then(r.bind(r,4854)),Promise.resolve().then(r.bind(r,8210)),Promise.resolve().then(r.bind(r,5160)),Promise.resolve().then(r.bind(r,630)),Promise.resolve().then(r.bind(r,5505)),Promise.resolve().then(r.bind(r,1880)),Promise.resolve().then(r.bind(r,4244)),Promise.resolve().then(r.bind(r,111)),Promise.resolve().then(r.bind(r,7320)),Promise.resolve().then(r.bind(r,7409)),Promise.resolve().then(r.bind(r,1354)),Promise.resolve().then(r.bind(r,7980)),Promise.resolve().then(r.bind(r,5412))},2977:(e,s,r)=>{Promise.resolve().then(r.bind(r,8298)),Promise.resolve().then(r.bind(r,8762)),Promise.resolve().then(r.bind(r,1292)),Promise.resolve().then(r.bind(r,7479)),Promise.resolve().then(r.bind(r,1460)),Promise.resolve().then(r.bind(r,4227)),Promise.resolve().then(r.bind(r,9266)),Promise.resolve().then(r.bind(r,2788)),Promise.resolve().then(r.bind(r,1595)),Promise.resolve().then(r.bind(r,3774)),Promise.resolve().then(r.bind(r,5961)),Promise.resolve().then(r.bind(r,4854)),Promise.resolve().then(r.bind(r,8210)),Promise.resolve().then(r.bind(r,5160)),Promise.resolve().then(r.bind(r,630)),Promise.resolve().then(r.bind(r,5505)),Promise.resolve().then(r.bind(r,1880)),Promise.resolve().then(r.bind(r,4244)),Promise.resolve().then(r.bind(r,111)),Promise.resolve().then(r.bind(r,7320)),Promise.resolve().then(r.bind(r,7409)),Promise.resolve().then(r.bind(r,1354)),Promise.resolve().then(r.bind(r,7980)),Promise.resolve().then(r.bind(r,5412)),Promise.resolve().then(r.bind(r,145))},8176:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},145:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var n=r(5344),t=r(4566),i=r(8212),o=r(3177),l=r(2132),a=r(7320),d=r(6506),c=r(8428),h=r(3729);let m=({login:e})=>{let s=(0,c.useSearchParams)(),r=(0,c.useRouter)(),[l,a]=(0,h.useState)({identifier:"samad",password:"myPassword"}),m=e=>{a(s=>({...s,[e.target.name]:e.target.value}))};return(0,n.jsxs)(t.x,{className:"border-2 border-gray-200 rounded-md shadow-md p-6 w-[300px]",children:[n.jsx(i.X,{align:"center",className:"mb-4",children:"Login"}),(0,n.jsxs)("form",{onSubmit:async n=>{n.preventDefault();try{await e(l);let n=s.get("redirectTo");r.push(n||"/me")}catch(e){console.log(e)}},className:"flex flex-col items-center gap-4 ",children:[n.jsx(b,{label:"identifier",type:"text",onChange:m,name:"identifier",value:l.identifier}),n.jsx(b,{label:"Password",type:"password",onChange:m,name:"password",value:l.password})," ",n.jsx(o.z,{className:"border-2 border-gray-800 cursor-pointer",children:"Submit"})]}),(0,n.jsxs)(t.x,{className:" mx-auto cursor-pointer w-full text-center text-sm mt-2",children:["New User?",n.jsx(d.default,{className:"text-blue-400 underline",href:"/register",children:"Register"})]})]})},b=({label:e,placeholder:s,type:r,onChange:i,name:o,value:d})=>(0,n.jsxs)(t.x,{className:"w-full",children:[n.jsx(l.x,{size:"2",children:e}),n.jsx(a.TextField.Input,{placeholder:s,size:"1",type:r,onChange:i,name:o,value:d})]})},6715:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var n=r(5344),t=r(3177),i=r(8428);let o=({logout:e})=>{let s=(0,i.useRouter)();return n.jsx(t.z,{onClick:()=>{e(),s.refresh()},children:"Logout"})}},5320:(e,s,r)=>{"use strict";r.r(s),r.d(s,{isLoggedIn:()=>c,login:()=>d,logout:()=>h,register:()=>a});var n=r(4471);r(8616);var t=r(7439),i=r(2053);let o="auth-session",l="auth-user";async function a(e){try{let s=await fetch(`${process.env.API_URL}/auth/register`,{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}});return await s.json()}catch(e){console.error(e)}}async function d(e){try{let s=await fetch(`${process.env.API_URL}/auth/login`,{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}),r=await s.json();return(0,t.cookies)().set(o,r.session,{httpOnly:!0,sameSite:"strict",secure:!0,maxAge:3e5}),(0,t.cookies)().set(l,JSON.stringify(r.user),{httpOnly:!0,sameSite:"strict",secure:!0,maxAge:3e5}),r}catch(e){return console.error(e),{error:"wat"}}}async function c(){return(0,t.cookies)().get(o)?{session:(0,t.cookies)().get(o),user:(0,t.cookies)().get(l)}:null}async function h(){return(0,t.cookies)().delete(o),(0,t.cookies)().delete(l),"ok"}(0,i.h)([a,d,c,h]),(0,n.U)("989eaa533c0ed0a12a487e0c8c7ef52292bf8c28",a),(0,n.U)("da77bca0492a65eda17bd6b5b3c51ff38f63d4b5",d),(0,n.U)("d185191f07d7c60aa14c3467142edb3da20b5494",c),(0,n.U)("f263cffc8c92d4df0b9523d05f9474996e98e5b1",h)},9167:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l});var n=r(5036),t=r(304),i=r(5320),o=r(867);let l=async({children:e})=>await (0,i.isLoggedIn)()?(0,o.redirect)("/me"):n.jsx(t.Z,{showRightBtns:!1,children:e})},1187:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var n=r(5036);r(2);let t=(0,r(6843).createProxy)(String.raw`/home/samad/Documents/teapost/client/src/app/(login)/login/AuthForm.tsx`),{__esModule:i,$$typeof:o}=t,l=t.default;var a=r(4879),d=r(5320);let c=()=>n.jsx(a.x,{className:"flex justify-center pt-12",children:n.jsx(l,{login:d.login})})},1342:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a,metadata:()=>l});var n=r(5036),t=r(820),i=r.n(t),o=r(3853);r(1929),r(5023);let l={title:"Teapost | Home",description:"Your daily tea-time current affair news portal",keywords:"blog post samad.dev"};function a({children:e}){return n.jsx("html",{lang:"en",className:i().variable,children:n.jsx("body",{children:n.jsx(o.Q2,{children:e})})})}},304:(e,s,r)=>{"use strict";r.d(s,{Z:()=>x});var n=r(5036),t=r(5320),i=r(9869),o=r(4879),l=r(7647),a=r(6822),d=r(1193),c=r(3211),h=r(6274);let m=(0,r(6843).createProxy)(String.raw`/home/samad/Documents/teapost/client/src/components/LogoutBtn.tsx`),{__esModule:b,$$typeof:u}=m,v=m.default,P=async({showRightBtns:e})=>{let s=await (0,t.isLoggedIn)();return n.jsx(o.x,{className:"bg-blue-100 text-gray-800 border-b-2 border-gray-300 shadow-md shadow-slate-700",children:n.jsx(l.W,{children:(0,n.jsxs)(o.x,{className:`p-4 flex ${e?"justify-between":"justify-center"}`,children:[n.jsx(a.X,{className:"text-center italic",children:n.jsx(h.default,{href:"/",children:"TEAPOST"})}),e?n.jsx(d.k,{justify:"center",gap:"4",children:s?(0,n.jsxs)(n.Fragment,{children:[n.jsx(v,{logout:t.logout}),n.jsx(c.z,{asChild:!0,children:(0,n.jsxs)(h.default,{href:"/me",children:["Profile ",n.jsx(i.fMw,{})]})})]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx(c.z,{asChild:!0,children:n.jsx(h.default,{href:"/login",children:"Login"})}),n.jsx(c.z,{asChild:!0,children:n.jsx(h.default,{href:"/register",children:"Register"})})]})}):null]})})})};var f=r(38);r(2);let x=({children:e,showRightBtns:s})=>(0,n.jsxs)(o.x,{className:"max-w-screen w-screen max-h-screen overflow-hidden h-full  flex flex-col",children:[n.jsx(P,{showRightBtns:s}),n.jsx(f.x,{type:"auto",scrollbars:"vertical",style:{minHeight:"100%",height:"100%"},className:"flex-1 h-full p-4 pt-0",children:e})]})},5023:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),n=s.X(0,[381,783,344],()=>r(237));module.exports=n})();